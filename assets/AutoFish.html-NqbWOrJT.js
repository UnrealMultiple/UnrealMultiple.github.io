import{_ as a,c as n,a as t,o as i}from"./app-CVSnDHte.js";const e={};function d(l,s){return i(),n("div",null,[...s[0]||(s[0]=[t(`<h1 id="autofishr-自动钓鱼重制版" tabindex="-1"><a class="header-anchor" href="#autofishr-自动钓鱼重制版"><span>AutoFishR 自动钓鱼重制版</span></a></h1><h2 id="作者" tabindex="-1"><a class="header-anchor" href="#作者"><span>作者</span></a></h2><ul><li><strong>少司命</strong>: 提供核心代码</li><li><strong>羽学</strong>: 提供创意与初版实现</li><li><strong>ksqeib</strong>: 当前维护者</li></ul><h2 id="重要说明" tabindex="-1"><a class="header-anchor" href="#重要说明"><span>重要说明</span></a></h2><ul><li>本插件出现任何问题，请联系 <strong>ksqeib</strong></li><li>唯一联系QQ：<strong>2388990095</strong></li><li><strong>请勿在群里艾特开发者</strong>，有事请添加QQ私聊</li><li><strong>警告：在群内艾特其他开发者造成打扰，后果自负！</strong></li></ul><h2 id="说明" tabindex="-1"><a class="header-anchor" href="#说明"><span>说明</span></a></h2><p>Tshock 服务器自动钓鱼插件，支持自动收杆、多钩、Buff、额外渔获、消耗模式等，可按权限与全局开关动态显隐指令。</p><p><strong>使用前提：必须开启 SSC（ServerSideCharacter），否则无法正常代扣鱼饵。</strong></p><ul><li>历史仓库: https://github.com/ksqeib/AutoFish-old</li></ul><h2 id="权限模型-重要" tabindex="-1"><a class="header-anchor" href="#权限模型-重要"><span>权限模型（重要）</span></a></h2><ul><li>管理员全通: <code>autofish.admin</code>。</li><li>通用白名单: <code>autofish.common</code>，拥有它即可使用全部玩家指令（仍受全局开关与负权限影响）。</li><li>功能权限: <code>autofish.&lt;feature&gt;</code>，示例 <code>autofish.fish</code>、<code>autofish.multihook</code> 等。</li><li>负权限: <code>autofish.no.&lt;feature&gt;</code>，拥有该权限即强制无权限（除 admin 外），示例 <code>autofish.no.fish</code>。</li><li><code>/af</code> 命令本身需要 <code>autofish</code>；拥有 <code>autofish.common</code> 等同可用全部玩家指令。</li></ul><p>示例：</p><ul><li>想让默认组能用除钓鱼外的所有功能，可给 default 组添加 <code>autofish.common</code>，再添加 <code>autofish.no.fish</code>，这样普通玩家可用 BUFF/多钩等，但无法开启自动钓鱼。</li></ul><h2 id="玩家指令-af-autofish" tabindex="-1"><a class="header-anchor" href="#玩家指令-af-autofish"><span>玩家指令（/af, /autofish）</span></a></h2><table><thead><tr><th>命令</th><th>说明</th><th>所需权限</th><th>其他前置</th></tr></thead><tbody><tr><td>/af</td><td>查看菜单/帮助</td><td>autofish</td><td>插件开启</td></tr><tr><td>/af status</td><td>查看个人状态</td><td>autofish</td><td></td></tr><tr><td>/af fish</td><td>开/关自动钓鱼</td><td>autofish.fish</td><td>全局自动钓鱼开启</td></tr><tr><td>/af buff</td><td>开/关钓鱼 Buff</td><td>autofish.buff</td><td>全局 Buff 开启</td></tr><tr><td>/af multi</td><td>开/关多钩</td><td>autofish.multihook</td><td>全局多钩开启</td></tr><tr><td>/af hook 数字</td><td>设置个人钩子上限</td><td>autofish.multihook</td><td>全局多钩开启，数值 ≤ 全局上限</td></tr><tr><td>/af monster</td><td>开/关不钓怪物</td><td>autofish.filter.monster</td><td>全局不钓怪开启</td></tr><tr><td>/af anim</td><td>开/关跳过上鱼动画</td><td>autofish.skipanimation</td><td>全局动画跳过开启</td></tr><tr><td>/af list</td><td>查看消耗模式指定物品</td><td>autofish</td><td>全局消耗模式开启</td></tr><tr><td>/af loot</td><td>查看额外渔获表</td><td>autofish</td><td>需配置额外渔获列表非空</td></tr><tr><td>/af bait</td><td>开/关保护贵重鱼饵</td><td>autofish.bait.protect</td><td>全局保护贵重鱼饵开启</td></tr><tr><td>/af baitlist</td><td>查看贵重鱼饵列表</td><td>autofish.bait.protect</td><td>同上</td></tr></tbody></table><blockquote><p>负权限优先：拥有 <code>autofish.no.&lt;feature&gt;</code> 时，除 admin 外一律视为无权。</p></blockquote><h2 id="管理员指令-afa-autofishadmin" tabindex="-1"><a class="header-anchor" href="#管理员指令-afa-autofishadmin"><span>管理员指令（/afa, /autofishadmin）</span></a></h2><p>全部指令需 <code>autofish.admin</code>。</p><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>/afa</td><td>查看管理员帮助菜单</td></tr><tr><td>/afa buff</td><td>全局开/关钓鱼 Buff</td></tr><tr><td>/afa multi</td><td>全局开/关多线模式</td></tr><tr><td>/afa duo 数字</td><td>设置全局多钩上限</td></tr><tr><td>/afa mod</td><td>全局开/关消耗模式</td></tr><tr><td>/afa set 数量</td><td>设置消耗物品数量（消耗模式开启时生效）</td></tr><tr><td>/afa time 数字</td><td>设置奖励时长（分钟，消耗模式开启时生效）</td></tr><tr><td>/afa add 物品名</td><td>添加指定鱼饵（消耗模式开启时可见）</td></tr><tr><td>/afa del 物品名</td><td>移除指定鱼饵（消耗模式开启时可见）</td></tr><tr><td>/afa addloot 物品名</td><td>添加额外渔获</td></tr><tr><td>/afa delloot 物品名</td><td>移除额外渔获</td></tr><tr><td>/afa monster</td><td>全局开/关不钓怪物</td></tr><tr><td>/afa anim</td><td>全局开/关跳过上鱼动画</td></tr></tbody></table><p>其他：<code>/reload</code>（tshock.cfg.reload）可重载配置。</p><h2 id="配置" tabindex="-1"><a class="header-anchor" href="#配置"><span>配置</span></a></h2><p>配置说明参见 <a href="resource/config/zh-cn.yml">resource/config/zh-cn.yml</a> 或 <a href="resource/config/en-us.yml">resource/config/en-us.yml</a>（缺失时插件会根据系统语言自动写入默认模板）。</p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ul><li><code>/af</code> 对普通玩家最简做法：给组添加 <code>autofish.common</code> 即可；若要禁用某功能，额外赋予对应 <code>autofish.no.&lt;feature&gt;</code>。</li><li>启用消耗模式后，个人需要拥有消耗时长；插件会在缺少鱼饵时直接返回。</li><li>多钩/不钓怪/跳过动画等均受“全局开关 + 个人开关 + 权限”共同约束。</li></ul><h2 id="排错指南" tabindex="-1"><a class="header-anchor" href="#排错指南"><span>排错指南</span></a></h2><ol><li><strong>检查插件总开关</strong>：确认配置中 <code>pluginEnabled</code> 为 <code>true</code>。</li><li><strong>检查全局功能开关</strong>：确认 <code>globalAutoFishFeatureEnabled</code> 为 <code>true</code>。</li><li><strong>检查权限</strong>：玩家需要 <code>autofish</code> 且具备对应功能权限（或 <code>autofish.common</code>）。如有 <code>autofish.no.&lt;feature&gt;</code> 会强制无权限。</li><li><strong>检查消耗模式</strong>：若启用消耗模式，确保已添加兑换规则且玩家有剩余时长。</li><li><strong>检查贵重鱼饵保护</strong>：启用后会自动换位保护鱼饵。如出现异常可尝试关闭：<code>/af bait</code>。</li><li><strong>检查鱼饵</strong>：无鱼饵会停止自动钓鱼，请补充后重新抛竿。</li><li><strong>确认 SSC 已开启</strong>：本插件依赖 SSC（ServerSideCharacter），未开启将无法正常工作。</li><li><strong>启用调试</strong>：管理员使用 <code>/afa debug</code> 开启调试模式。</li><li><strong>复现问题并截图</strong>：让玩家复现钓鱼过程，保留聊天提示与控制台输出截图，用于问题反馈。</li></ol><h2 id="原理-功能行为与关键逻辑" tabindex="-1"><a class="header-anchor" href="#原理-功能行为与关键逻辑"><span>原理（功能行为与关键逻辑）</span></a></h2><ul><li>自动钓鱼：在浮漂 AI 更新时检测 <code>bobber.ai[1] &lt; 0</code>（已上钩），扣除鱼饵、调用原版收杆逻辑，再重发弹幕；若配置开启额外渔获/过滤怪物，会在生成掉落前执行筛选与替换。</li><li>多钩：在生成鱼线弹幕事件中统计当前浮漂数量，未超出上限时为玩家复制一枚新的鱼线弹幕，实现并行钓鱼；同时受消耗模式与玩家多钩开关限制。</li><li>跳过上鱼动画：收杆后直接向客户端发送 <code>ProjectileDestroy</code>，省略动画。</li><li>不钓怪物：当判定结果为怪物（catchId &lt; 0）且开启该功能时，丢弃结果重新尝试。</li><li>保护贵重鱼饵：检测当前使用的鱼饵是否在贵重列表中，如是则尝试与背包尾部的鱼饵位置交换，并同步槽位，避免被扣除。</li><li>消耗模式：全局开启时，玩家需个人开启且有剩余时长才执行自动钓鱼/多钩；剩余时长通过玩家消耗指定物品兑换（指令与逻辑同前述配置字段）。</li><li>Buff：当检测到玩家鱼线存在且全局/个人 Buff 开启时，为玩家施加 <code>Buff表</code> 配置的 Buff（ID+持续时间）。</li><li>提示与首钓：玩家第一次抛竿时会提示可使用 <code>/af fish</code> 开启自动钓鱼（仅提示一次）。</li></ul><h2 id="更新日志" tabindex="-1"><a class="header-anchor" href="#更新日志"><span>更新日志</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>v1.4.9.1</span></span>
<span class="line"><span>修正多竿钓鱼下会吞物品</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.9</span></span>
<span class="line"><span>拆分额外渔获到独立项目</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.8.1</span></span>
<span class="line"><span>添加防呆代码</span></span>
<span class="line"><span>添加排错说明</span></span>
<span class="line"><span>添加用于debug的代码</span></span>
<span class="line"><span>修复反复交换两个贵重鱼饵的bug</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.8</span></span>
<span class="line"><span>修复钓鱼代码</span></span>
<span class="line"><span>修正刷浮漂解决方案</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.7</span></span>
<span class="line"><span>添加自动打包</span></span>
<span class="line"><span>使用类原版系统添加额外渔获</span></span>
<span class="line"><span>添加屏蔽任务鱼功能</span></span>
<span class="line"><span>优化Status命令</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.6</span></span>
<span class="line"><span>修复消耗模式不可用</span></span>
<span class="line"><span>添加更多提示</span></span>
<span class="line"><span>简化消耗模式代码</span></span>
<span class="line"><span>简化溅射物生成代码</span></span>
<span class="line"><span>消耗模式可配置不同鱼饵时间</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.5</span></span>
<span class="line"><span>简化代码</span></span>
<span class="line"><span>修复刷浮漂</span></span>
<span class="line"><span>修复保护不住贵重鱼饵</span></span>
<span class="line"><span>修复不上额外渔获</span></span>
<span class="line"><span>简化部分代码逻辑</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.4</span></span>
<span class="line"><span>兼容1.4.5</span></span>
<span class="line"><span></span></span>
<span class="line"><span>v1.4.3</span></span>
<span class="line"><span>改进钓鱼逻辑性能开销</span></span>
<span class="line"><span>预设一些简单渔获</span></span>
<span class="line"><span>让钓鱼逻辑合理化，使得视觉效果与原版几乎一致</span></span>
<span class="line"><span>对玩家命令和管理员命令进行拆分</span></span>
<span class="line"><span>添加贵重鱼饵保护功能和对应的命令</span></span>
<span class="line"><span>命令对控制台添加特判</span></span>
<span class="line"><span>重排配置顺序</span></span>
<span class="line"><span>引入负权限系统</span></span>
<span class="line"><span></span></span>
<span class="line"><span>更久之前请查找前仓库</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="反馈" tabindex="-1"><a class="header-anchor" href="#反馈"><span>反馈</span></a></h2><ul><li>issue: https://github.com/UnrealMultiple/TShockPlugin</li><li>QQ：816771079</li><li>社区：trhub.cn / bbstr.net / tr.monika.love</li></ul><h2 id="更新日志-1" tabindex="-1"><a class="header-anchor" href="#更新日志-1"><span>更新日志</span></a></h2><ul><li>见 CHANGELOG.md</li></ul><h2 id="特别鸣谢" tabindex="-1"><a class="header-anchor" href="#特别鸣谢"><span>特别鸣谢</span></a></h2><p>TShock群友 羯淩(2372652098) 赞助十元用于开发者开发时购买雪碧</p>`,36)])])}const p=a(e,[["render",d]]),r=JSON.parse('{"path":"/zh/guide/AutoFish.html","title":"AutoFishR 自动钓鱼重制版","lang":"zh-CN","frontmatter":{"description":"AutoFishR 自动钓鱼重制版 作者 少司命: 提供核心代码 羽学: 提供创意与初版实现 ksqeib: 当前维护者 重要说明 本插件出现任何问题，请联系 ksqeib 唯一联系QQ：2388990095 请勿在群里艾特开发者，有事请添加QQ私聊 警告：在群内艾特其他开发者造成打扰，后果自负！ 说明 Tshock 服务器自动钓鱼插件，支持自动收杆、...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"AutoFishR 自动钓鱼重制版\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"http://docs.terraria.ink/zh/guide/AutoFish.html"}],["meta",{"property":"og:site_name","content":"TShock中文插件库"}],["meta",{"property":"og:title","content":"AutoFishR 自动钓鱼重制版"}],["meta",{"property":"og:description","content":"AutoFishR 自动钓鱼重制版 作者 少司命: 提供核心代码 羽学: 提供创意与初版实现 ksqeib: 当前维护者 重要说明 本插件出现任何问题，请联系 ksqeib 唯一联系QQ：2388990095 请勿在群里艾特开发者，有事请添加QQ私聊 警告：在群内艾特其他开发者造成打扰，后果自负！ 说明 Tshock 服务器自动钓鱼插件，支持自动收杆、..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"git":{},"autoDesc":true,"filePathRelative":"zh/guide/AutoFish.md"}');export{p as comp,r as data};
