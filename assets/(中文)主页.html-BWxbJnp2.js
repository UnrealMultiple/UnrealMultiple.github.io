import{_ as o,c as r,a,o as t}from"./app-CVSnDHte.js";const c={};function n(i,e){return t(),r("div",null,[...e[0]||(e[0]=[a(`<h1 id="主页" tabindex="-1"><a class="header-anchor" href="#主页"><span>主页</span></a></h1><p align="center"><img src="https://tshock.s3.us-west-001.backblazeb2.com/newlogo.png" alt="TShock for Terraria"><br></p><ul><li>下载：TShock 的 <a href="https://github.com/TShock/TShock/releases" target="_blank" rel="noopener noreferrer">官方稳定版和预发布版本</a> 或 <a href="#experimental-downloads">实验版</a>。</li><li>下载：可与 TShock 配合使用的 <a href="https://github.com/Pryaxis/TShock/wiki/Plugins" target="_blank" rel="noopener noreferrer">插件</a>，以及适用于 OTAPI、TSAPI 和 Terraria 的 <a href="https://github.com/topics/otapi" target="_blank" rel="noopener noreferrer">插件</a>。</li><li>加入 <a href="https://discord.gg/Cav9nYX" target="_blank" rel="noopener noreferrer">Discord 服务器</a>。</li><li>在 <a href="https://github.com/Pryaxis/TShock/discussions" target="_blank" rel="noopener noreferrer">GitHub 讨论区</a> 交流，可寻求帮助、聊天或其他事宜。如果您不常用 Discord，这是获取帮助的最佳方式。</li><li>了解最新动态，请在 Twitter 上关注 <a href="https://twitter.com/Pryaxis" target="_blank" rel="noopener noreferrer">@Pryaxis</a>。</li><li>在 <a href="https://github.com/Pryaxis/TShock" target="_blank" rel="noopener noreferrer">GitHub</a> 上为项目贡献代码或参与开发。</li><li>可获取 <a href="https://www.nuget.org/packages/TShock/" target="_blank" rel="noopener noreferrer">TShock</a> 和 <a href="https://www.nuget.org/packages/TSAPI/" target="_blank" rel="noopener noreferrer">TSAPI</a> 的 Nuget 包。</li><li>如果是中文用户，可加入QQ群：<a href="https://qm.qq.com/q/kZsJRuS546" target="_blank" rel="noopener noreferrer">816771079</a></li></ul><hr><h2 id="tshock安装指南" tabindex="-1"><a class="header-anchor" href="#tshock安装指南"><span>TShock安装指南</span></a></h2><p>如果你需要更详细的中文教程与内容，请访问<a href="https://docs.terraria.ink/zh/other/TShockToolsNav.html" target="_blank" rel="noopener noreferrer">TShock 导航指南</a></p><p>TShock支持所有.NET 6兼容的系统。你可以在macOS、Windows或Linux的x86、x86_64、arm32、arm64和arm64e架构上运行TShock。借助非官方版本的.NET，TShock也能在FreeBSD上成功运行。</p><p>通常情况下，TShock至少需要1GB内存，但使用替代图块提供程序可能会降低最低内存要求。你还需要一台性能较好的计算机。树莓派4可以用于搭建超小型服务器，但实际上，我们建议使用性能更强的设备。</p><ol><li><p>如果你使用Windows 10或其他操作系统，请安装<a href="https://dotnet.microsoft.com/en-us/download/dotnet/6.0" target="_blank" rel="noopener noreferrer">.NET Runtime 6.x版本</a>；如果你打算构建和开发插件，则需安装.NET SDK 6.x。如果你使用的是Windows 11 22H2或更高版本，可能已经预装了.NET 6。</p></li><li><p>下载<a href="https://github.com/TShock/TShock/releases" target="_blank" rel="noopener noreferrer">最新稳定版</a>，然后使用你喜欢的解压缩工具解压文件夹。确保压缩包中的所有文件都解压到同一个文件夹中，这将是你服务器的存储位置。文件结构如下：</p><pre><code>   TShock.Server.exe
   bin\\
   |------HttpServer.dll
   |------ModFramework.dll
   |------OTAPI.dll
   |------OTAPI.Runtime.dll
   |------TerrariaServer.dll
   ServerPlugins\\
   |------TShockAPI.dll
</code></pre></li><li><p>启动<code>TShock.Server.exe</code>（在其他平台上，在你选择的终端中输入<code>./TShock.Server</code>），TShock将启动并创建一个名为<code>tshock</code>的文件夹，用于存储其数据库和配置文件。填写好启动选项后，你就可以开始使用了。在后台，TShock会为你创建一些文件夹，我们稍后会再提到这些文件夹。</p></li><li><p>启动Terraria。通过IP连接到&quot;多人游戏&quot;服务器，如果你是在本地计算机上操作，请输入<code>localhost</code>。如果你是在其他计算机上操作，则需要该计算机的IP地址。</p></li><li><p>在服务器控制台中查找&quot;<em>setup code</em>&quot;。在游戏聊天中输入<code>/setup [代码]</code>（例如：<code>/setup 12345</code>），然后输入一个空格，然后在游戏聊天框中输入你在控制台看到的代码。这不是普通聊天，而是向服务器发送命令。这个命令会让你成为临时管理员。所有命令都以<code>/</code>或<code>!</code>（使其静默）为前缀。</p></li><li><p>使用游戏内命令<code>/user add [账号名称] [密码] owner</code>（例如：<code>/user add shank lovely-grilled-cheese owner</code>）创建一个账号。这将赋予你服务器的所有者权限，你可以在以后根据自己的喜好进行更多配置。</p></li><li><p>使用<code>/login [账号名称] [密码]</code>（例如：<code>/login shank grilled-cheese</code>）登录你新创建的账号。你应该会看到登录成功的消息。</p></li><li><p>使用<code>/setup</code>关闭认证系统，你的服务器就可以开始初始使用了。TShock还会在新的<code>tshock</code>文件夹中创建几个文件。这些文件包括<code>config.json</code>（我们的主要配置文件）、<code>sscconfig.json</code>（服务器端角色配置文件）和<code>tshock.sqlite</code>（存放各种内容的数据库）。不要丢失你的<code>tshock.sqlite</code>文件，否则你将不得不重新设置TShock。</p></li><li><p>要安装更多插件，将它们添加到<code>ServerPlugins</code>文件夹中。</p></li></ol><h3 id="升级指南" tabindex="-1"><a class="header-anchor" href="#升级指南"><span>升级指南</span></a></h3><p>要将 TShock 5 升级到更高版本的 TShock 5，只需下载最新版本，解压文件，然后将新版本中的所有文件与你现有安装的文件合并即可。tshock 文件夹包含用户数据，任何数据库变更都会自动执行，以使你的服务器与我们的最新功能保持同步。</p><h4 id="从tshock-4升级" tabindex="-1"><a class="header-anchor" href="#从tshock-4升级"><span>从TShock 4升级？</span></a></h4><p>如果你是从TShock 4升级，我们建议下载TShock的新版本，将<code>tshock</code>配置文件夹（包含<code>sqlitedb</code>文件以及<code>json</code>配置文件等）复制到新服务器，然后以这种方式启动新服务器。这是因为TShock 4中的许多文件已被移除，不再需要。此外，你现在需要运行的新二进制文件名为<code>TShock.Server.exe</code>或<code>TShock.Server</code>，而不是<code>TerrariaServer.exe</code>。</p><p>此外，在非 Windows 操作系统上，你不再需要安装 <code>mono-complete</code> 或 <code>mono</code>。这意味着你不能再使用 <code>mono</code> 命令启动服务器。在基于 Linux 的操作系统上，要运行新的二进制文件（<code>TShock.Server</code>），只需输入 <code>./TShock.Server</code>。</p><h3 id="apple-silicon" tabindex="-1"><a class="header-anchor" href="#apple-silicon"><span>Apple Silicon</span></a></h3><p>在Apple Silicon上，你可以使用Rosetta 2运行TShock。这需要使用TShock及其相关插件的<code>x64</code>版本。请确保下载的是该版本。</p><ol><li><strong>请勿通过Homebrew安装<code>dotnet</code></strong>，请改为安装适用于x86的<a href="https://dotnet.microsoft.com/en-us/download" target="_blank" rel="noopener noreferrer">.NET 6 SDK</a>。</li><li>将x64版本的.NET添加到路径中：<code>export PATH=$PATH:/usr/local/share/dotnet/x64/</code>。</li><li>若尚未安装Rosetta 2，请在终端中运行：<code>sudo softwareupdate --install-rosetta --agree-to-license</code>。</li><li>在终端中运行：<code>xattr -r -d com.apple.quarantine TShock.Server</code>，此操作将移除阻止打开TShock的<code>com.apple.quarantine</code>隔离标志。</li><li>在终端中运行：<code>./TShock.Server</code>。</li></ol><p>如果你遇到类似这样的错误：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>rosetta error: /var/db/oah/2c885558d6a2ecad3098d24447a4071ee679371339e97846cd3d03a3b2bf5ab4/</span></span>
<span class="line"><span>b45bd88b435cac41689c907440d5761e7182a4da0cbacaea5b1310d4f7e965d0/TShock.Server.aot:</span></span>
<span class="line"><span>attachment of code signature supplement failed: 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请尝试重启你的Mac、重新下载服务器、安装更新，或重新运行<code>softwareupdate --install-rosetta</code>。</p><p>由于<code>W^X</code>内存保护和其他<a href="https://github.com/MonoMod/MonoMod" target="_blank" rel="noopener noreferrer">MonoMod</a>尚未支持的功能，TShock需要在Rosetta 2下运行。MonoMod仓库上有一个<a href="https://github.com/MonoMod/MonoMod/issues/90" target="_blank" rel="noopener noreferrer">关于支持Apple Silicon的问题</a>。</p><p><strong>实验版下载</strong></p><p>要下载 TShock 的实验版本，您有两种选择：AppVeyor 构建版本或 GitHub 构建版本。请注意：TShock 的实验版本是临时发布的，我们不提供技术支持。如果您需要报告问题，请明确说明您下载的构建版本来自哪个提交或分支、使用的服务内容，以及适用的构建编号。</p><p>在 <a href="https://ci.appveyor.com/project/hakusaro/tshock/" target="_blank" rel="noopener noreferrer">AppVeyor</a> 上，点击History（历史记录），找到您想要的构建版本，点击Commit Message（提交信息），然后点击Artifacts（构建产物） 标签页。您可以下载Debug（调试版） 或 Release（发布版）构建。不过，AppVeyor 只保留 6 个月的构建记录，并且有带宽限制。</p><p>在 <a href="https://github.com/Pryaxis/TShock/" target="_blank" rel="noopener noreferrer">GitHub</a> 上，点击Actions（操作），然后在您想要的提交或分支上点击 &quot;CI OTAPI3&quot;。如果构建成功，您可以Artifacts（产物）下载实验发布版或调试版构建包。您必须登录 GitHub 才能使用这些链接。</p>`,25)])])}const l=o(c,[["render",n]]),d=JSON.parse('{"path":"/zh/tshock-wiki/(%E4%B8%AD%E6%96%87)%E4%B8%BB%E9%A1%B5.html","title":"主页","lang":"zh-CN","frontmatter":{"description":"主页 TShock for Terraria 下载：TShock 的 官方稳定版和预发布版本 或 实验版。 下载：可与 TShock 配合使用的 插件，以及适用于 OTAPI、TSAPI 和 Terraria 的 插件。 加入 Discord 服务器。 在 GitHub 讨论区 交流，可寻求帮助、聊天或其他事宜。如果您不常用 Discord，这是获取帮...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"主页\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[]}"],["meta",{"property":"og:url","content":"http://docs.terraria.ink/zh/tshock-wiki/(%E4%B8%AD%E6%96%87)%E4%B8%BB%E9%A1%B5.html"}],["meta",{"property":"og:site_name","content":"TShock中文插件库"}],["meta",{"property":"og:title","content":"主页"}],["meta",{"property":"og:description","content":"主页 TShock for Terraria 下载：TShock 的 官方稳定版和预发布版本 或 实验版。 下载：可与 TShock 配合使用的 插件，以及适用于 OTAPI、TSAPI 和 Terraria 的 插件。 加入 Discord 服务器。 在 GitHub 讨论区 交流，可寻求帮助、聊天或其他事宜。如果您不常用 Discord，这是获取帮..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}]]},"git":{},"autoDesc":true,"filePathRelative":"zh/tshock-wiki/(中文)主页.md"}');export{l as comp,d as data};
