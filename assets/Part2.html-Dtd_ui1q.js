import{_ as i,c as a,a as n,o as l}from"./app-CVSnDHte.js";const h="/assets/be546207-ea31-43c9-b26e-4114c8d9ed51-CeFw-xpx.jpg",k={};function t(e,s){return l(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="part-2-åˆæ­¥äº†è§£tshockæ’ä»¶æ¨¡æ¿â€‹" tabindex="-1"><a class="header-anchor" href="#part-2-åˆæ­¥äº†è§£tshockæ’ä»¶æ¨¡æ¿â€‹"><span>Part 2.åˆæ­¥äº†è§£TShockæ’ä»¶æ¨¡æ¿â€‹</span></a></h1><p>æœ¬ç« ä½ å°†å­¦åˆ°ï¼š</p><ul><li>TShockæ’ä»¶æ¨¡æ¿å„éƒ¨åˆ†çš„ä½œç”¨</li><li>TShockæ’ä»¶çš„åˆå§‹åŒ–é¡ºåº</li></ul><h2 id="æ–‡ä»¶ç»“æ„" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ç»“æ„"><span>æ–‡ä»¶ç»“æ„</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>ğŸ“‚MyFirstPlugin</span></span>
<span class="line"><span>â”œâ”€â”€ ğŸ“‚MyFirstPlugin //é¡¹ç›®æ–‡ä»¶å¤¹</span></span>
<span class="line"><span>â”‚Â Â  â”œâ”€â”€ ğŸ“‚bin //æ„å»ºäº§ç‰©</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â  â””â”€â”€ ğŸ“‚Debug //Debugç¼–è¯‘æ¨¡å¼ä¸‹çš„æ„å»ºäº§ç‰©</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â      â””â”€â”€ ğŸ“‚net6.0 //ç›®æ ‡.NETç‰ˆæœ¬ï¼Œ</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â          â”œâ”€â”€ ğŸ“œMyfirstplugin.deps.json //ä¾èµ–æ¸…å•çš„æ–‡ä»¶ï¼Œç”¨ä¸åˆ°</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â          â”œâ”€â”€ ğŸ“œMyfirstplugin.dll //æ’ä»¶æœ¬ä½“</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â          â””â”€â”€ ğŸ“œMyfirstplugin.pdb //å’Œæ’ä»¶ä¸€èµ·å®‰è£…ï¼ŒæŠ¥é”™åå¯ä»¥æ˜¾ç¤ºç›¸å…³æ–¹æ³•åœ¨æºç ä¸­çš„è¡Œæ•°</span></span>
<span class="line"><span>|   |       ğŸ“‚Release //Releaseç¼–è¯‘æ¨¡å¼ä¸‹çš„æ„å»ºäº§ç‰©</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â      â””â”€â”€ ğŸ“‚net6.0</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â          â”œâ”€â”€ ğŸ“œMyfirstplugin.deps.json //åŒä¸Š</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â          â”œâ”€â”€ ğŸ“œMyfirstplugin.dll //åŒä¸Š</span></span>
<span class="line"><span>â”‚Â Â  â”‚Â Â          â””â”€â”€ ğŸ“œMyfirstplugin.pdb //åŒä¸Š</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ ğŸ“‚obj //ç”¨äºå­˜æ”¾ç¼–è¯‘çš„ä¸´æ—¶æ–‡ä»¶ï¼Œ</span></span>
<span class="line"><span>â”‚Â Â  â”œâ”€â”€ ğŸ“œMyfirstplugin.csproj //é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„åå­—å†³å®šæ’ä»¶ç¨‹åºé›†çš„åå­—</span></span>
<span class="line"><span>â”‚Â Â  â”œâ”€â”€ ğŸ“œPlugin.cs //æ’ä»¶æœ¬ä½“æºç æ–‡ä»¶</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ ğŸ“œConfig.cs //æ’ä»¶é…ç½®ç›¸å…³æºç æ–‡ä»¶ï¼ŒæŒ‰éœ€æ·»åŠ </span></span>
<span class="line"><span>â”‚   â””â”€â”€ ğŸ“œDatabase.cs //æ’ä»¶æ•°æ®åº“ç›¸å…³æºç æ–‡ä»¶ï¼ŒæŒ‰éœ€æ·»åŠ </span></span>
<span class="line"><span>â””â”€â”€ ğŸ“œMyFirstPlugin.sln //é¡¹ç›®çš„è§£å†³æ–¹æ¡ˆï¼Œç”¨æ¥å­˜æ”¾é¡¹ç›®ç»„çš„é…ç½®</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ’ä»¶æ¨¡æ¿â€‹" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶æ¨¡æ¿â€‹"><span>æ’ä»¶æ¨¡æ¿â€‹</span></a></h2><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„TShockæ’ä»¶æ¨¡æ¿</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">using</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Reflection</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">using</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Terraria</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">using</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> TerrariaApi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">using</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> TShockAPI</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">namespace</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyFirstPlugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ApiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> : </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">TerrariaPlugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //æ’ä»¶çš„åç§°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;MyFirstPlugin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //æ’ä»¶ä½œè€…åå­—</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;"> Author</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Cai&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //æ’ä»¶åŠŸèƒ½çš„ä¸€å¥è¯æè¿°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;"> Description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªæœ‰ä»€ä¹ˆç”¨&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //æ’ä»¶çš„ç‰ˆæœ¬, å¯ä»¥é‡‡ç”¨æ—¥æœŸæ¥å‘½å, eg: 2024å¹´1æœˆ4æ—¥ç¬¬1ä¸ªç‰ˆæœ¬ -&gt; new(2024, 1,4,1)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Version</span><span style="--shiki-light:#4078F2;--shiki-dark:#ABB2BF;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; new(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //æ’ä»¶çš„æ„é€ å™¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Main</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> game</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) : </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">base</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">game</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //æ’ä»¶åŠ è½½æ—¶æ‰§è¡Œçš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Initialize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    //æ’ä»¶å¸è½½æ—¶æ‰§è¡Œçš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Dispose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> disposing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">disposing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        </span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        base</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Dispose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">disposing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ’ä»¶åŸºæœ¬ä¿¡æ¯â€‹" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶åŸºæœ¬ä¿¡æ¯â€‹"><span>æ’ä»¶åŸºæœ¬ä¿¡æ¯â€‹</span></a></h2><p>ä»¥ä¸‹ä»£ç å¯ä»¥è®¾ç½®æ’ä»¶çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œæ’ä»¶åå»ºè®®æŒ‰ç…§åŠŸèƒ½å‘½åï¼Œä¸è¦èµ·å¥‡æ€ªåå­—(ä¾‹å¦‚&quot;ç‚¸è£‚&quot;), Author(æ’ä»¶ä½œè€…)ã€Name(æ’ä»¶åå­—)ã€Version(æ’ä»¶ç‰ˆæœ¬)å°†ä¼šåœ¨æ’ä»¶åˆå§‹åŒ–å®Œæˆæ—¶æ˜¾ç¤º<br><img src="`+h+`" alt="image"></p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶çš„åç§°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;MyFirstPlugin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶ä½œè€…åå­—</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Author</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Cai&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶åŠŸèƒ½çš„ä¸€å¥è¯æè¿°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> string</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;æˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªæœ‰ä»€ä¹ˆç”¨&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶çš„ç‰ˆæœ¬, å¯ä»¥é‡‡ç”¨æ—¥æœŸæ¥å‘½å, eg: 2024å¹´1æœˆ4æ—¥ç¬¬1ä¸ªç‰ˆæœ¬ -&gt; new(2024, 1,4,1)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; new(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">æ³¨</p><p>ä½¿ç”¨<code>new Version()</code>å°†ä¼šæ˜¾ç¤ºæ­¤æ–¹æ³•å‚æ•°ä¸ºç‰ˆæœ¬å·<br> è€Œä½¿ç”¨<code>Assembly.GetExecutingAssembly().GetName().Version</code>è·å–çš„æ˜¯ç¨‹åºé›†çš„ç‰ˆæœ¬å·, ç¨‹åºé›†ç‰ˆæœ¬å·éœ€è¦åœ¨é¡¹ç›®å±æ€§ä¸­ä¿®æ”¹</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶çš„ç‰ˆæœ¬</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ä»£ç ä¸­è®¾ç½®ç‰ˆæœ¬ (æ¨è)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetExecutingAssembly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//é¡¹ç›®ä¸­è®¾ç½®ç‰ˆæœ¬ (éº»çƒ¦)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><details><summary>ä¿®æ”¹ç¨‹åºé›†ç‰ˆæœ¬</summary> 1. å³é”®èµ„æºç®¡ç†å™¨ä¸­çš„é¡¹ç›®(è¿™é‡Œæ˜¯Myfirstplugin),ç„¶åç‚¹å‡»å±æ€§ <img src="https://github.com/user-attachments/assets/41c63f6d-92a9-4ec8-a7b5-4f4723b38feb" alt="img"><br> 2. ä¿®æ”¹ç¨‹åºé›†ç‰ˆæœ¬å³å¯ <img src="https://github.com/user-attachments/assets/e8fa0c71-122e-454e-bfa1-bb9007301105" alt="img"><br></details><h2 id="æ’ä»¶çš„æ„é€ å™¨â€‹" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶çš„æ„é€ å™¨â€‹"><span>æ’ä»¶çš„æ„é€ å™¨â€‹</span></a></h2><p>æ’ä»¶çš„æ„é€ å™¨ï¼Œä¹Ÿå«æ„é€ å‡½æ•°ã€‚å½“TShockåˆ›é€ æ’ä»¶å¯¹è±¡æ—¶ï¼Œæ„é€ å‡½æ•°å°±ä¼šè¢«è°ƒç”¨ï¼Œæ„é€ å‡½æ•°ä¸­çš„ä»£ç ä¼šæ¯”<code>Initialize</code>æ–¹æ³•æ›´å…ˆæ‰§è¡Œã€‚æœåŠ¡ç«¯ä¼šå…ˆæŒ‰ç…§è¯»å–åˆ°æ’ä»¶çš„é¡ºåº(å–å†³äºæ’ä»¶çš„æ–‡ä»¶å)æ‰§è¡Œæ‰€æœ‰æ’ä»¶çš„æ„é€ å‡½æ•°ï¼Œå†æŒ‰ç…§<code>Order</code>ç”±å°åˆ°å¤§æ‰§è¡Œæ’ä»¶çš„<code>Initialize</code>æ–¹æ³•</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶çš„æ„é€ å™¨</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Plugin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Main</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> game</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) : </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">base</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">game</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    /*</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    æ’ä»¶åŠ è½½é¡ºåºï¼Œé»˜è®¤ä¸º1ï¼Œæ•°å­—è¶Šå°è¶Šå…ˆåŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    å…¶ä¸­int.MaxValueæœ€æ™šåŠ è½½, int.MinValueæœ€å…ˆåŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    TShockAPIçš„Orderä¸º0, æ‰€ä»¥Order &lt; 0ä¼šæ¯”TShockæ›´ä¼˜å…ˆåŠ è½½, Order &gt; 0,åˆ™ä¼šæ¯”TShockæ›´æ™šåŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    å¦‚æœä½ ä¸æ˜¯æŒ‡Order, é‚£ä¹ˆOrderçš„é»˜è®¤å€¼ä¸º1,ä¼šæ¯”TShockæ™šåŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    */</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    base</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Order</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container caution"><p class="hint-container-title">è­¦å‘Š</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œä¼šåœ¨TShockåˆå§‹åŒ–ä¹‹å‰ å¦‚æœåœ¨æ„é€ å‡½æ•°ä¸­ç¼–å†™ä»£ç (ä¾‹å¦‚å»ºè¡¨)ï¼Œå¯èƒ½ä¼šå¯¼è‡´ååˆ†ç„å­¦çš„é—®é¢˜ï¼Œæ‰€ä»¥æ²¡æœ‰ç‰¹æ®Šéœ€è¦ä¸‹ä¸€èˆ¬æ’ä»¶çš„æ„é€ å‡½æ•°éƒ½ä¼šç›´æ¥æ”¾ç©ºã€‚ å¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€è¦ä¹Ÿä¸è¦ä¿®æ”¹<code>Order</code></p></div><h2 id="æ’ä»¶çš„åˆå§‹åŒ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶çš„åˆå§‹åŒ–æ–¹æ³•"><span>æ’ä»¶çš„åˆå§‹åŒ–æ–¹æ³•</span></a></h2><p>åˆå§‹åŒ–æ–¹æ³•æ˜¯TShockæ’ä»¶ä¸­éå¸¸é‡è¦çš„éƒ¨åˆ†ï¼Œè¿™ä¸ªå‡½æ•°ä¸»è¦è´Ÿè´£æ’ä»¶çš„<code>åˆå§‹åŒ–</code>ï¼Œå¯ä»¥ç”¨æ¥<code>æ³¨å†Œé’©å­</code>ã€<code>æ·»åŠ å‘½ä»¤</code>ã€<code>æ³¨å†ŒREST APIå‘½ä»¤</code>ã€<code>åˆå§‹åŒ–é…ç½®æ–‡ä»¶</code>ã€<code>åˆå§‹åŒ–æ•°æ®åº“</code>ç­‰</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶åŠ è½½æ—¶æ‰§è¡Œçš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Initialize</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    ServerApi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Hooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ServerChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Register</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">OnChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ³¨å†Œé’©å­</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    Commands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ChatCommands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Command</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xsb.fishrank&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Fish</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;é’“é±¼æ’è¡Œ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ·»åŠ å‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    TShock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">RestApi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Register</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">SecureRestCommand</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/XSB/GetMap&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">GetMap</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;rest.xsb.admin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ³¨å†ŒREST APIå‘½ä»¤</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    Config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Instance</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Read</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//åˆå§‹åŒ–é…ç½®æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    DB</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Init</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//åˆå§‹åŒ–æ•°æ®åº“</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ’ä»¶çš„å¸è½½æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶çš„å¸è½½æ–¹æ³•"><span>æ’ä»¶çš„å¸è½½æ–¹æ³•</span></a></h2><p>æ’ä»¶çš„å¸è½½æ–¹æ³•åœ¨æ’ä»¶å¸è½½(é€šå¸¸æ˜¯TShockå…³é—­æ—¶)è¢«è°ƒç”¨ã€‚å¦‚æœä½ ä½¿ç”¨<code>PluginLoader</code>, é‚£ä¹ˆè¯·ä½ åŠ¡å¿…å†™å¥½å¸è½½æ–¹æ³•, å¦åˆ™ä¼šå¯¼è‡´æ’ä»¶çš„åŠŸèƒ½å¸è½½ä¸å®Œå…¨, é‡è½½å‡ºç°å¼‚å¸¸ã€‚</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ’ä»¶å¸è½½æ—¶æ‰§è¡Œçš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> override</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Dispose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">bool</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> disposing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">     if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">disposing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">         ServerApi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Hooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ServerChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Deregister</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">OnChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//å¸è½½é’©å­</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">         Commands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ChatCommands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">RemoveAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CommandDelegate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">DeclaringType</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetExecutingAssembly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//ç§»é™¤æ’ä»¶æ·»åŠ çš„å‘½ä»¤ (è¿™ä¸ªå¯ä»¥å¸è½½æ‰€æœ‰å‘½ä»¤,æ¨èæ¯ä¸ªæ’ä»¶éƒ½ä½¿ç”¨)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">     }</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">     base</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Dispose</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">disposing</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">é‡è¦</p><p>æ³¨å†Œã€æ³¨é”€æœ‰å§‹æœ‰ç»ˆ</p><div class="language-csharp line-numbers-mode" data-highlighter="shiki" data-ext="csharp" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-csharp"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ³¨å†Œ Initialize</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Commands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ChatCommands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Add</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(new </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Command</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;xsb.fishrank&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">Fish</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;é’“é±¼æ’è¡Œ&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ServerApi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Hooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ServerChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Register</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">OnChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">GetDataHandlers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">KillMe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Register</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">OnKillMe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">PlayerHooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">PlayerPermission</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">+=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> PlayerHooksOnPlayerPermission</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">...</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//æ³¨é”€ Dispose</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Commands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ChatCommands</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">RemoveAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CommandDelegate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">DeclaringType</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> ==</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Assembly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">GetExecutingAssembly</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ServerApi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Hooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">ServerChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Deregister</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">OnChat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">GetDataHandlers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">KillMe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">UnRegister</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">OnKillMe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">PlayerHooks</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">PlayerPermission</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">-=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> PlayerHooksOnPlayerPermission</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,24)])])}const d=i(k,[["render",t]]),r=JSON.parse('{"path":"/zh/plugin-dev/Part2.html","title":"Part 2.åˆæ­¥äº†è§£TShockæ’ä»¶æ¨¡æ¿â€‹","lang":"zh-CN","frontmatter":{"description":"Part 2.åˆæ­¥äº†è§£TShockæ’ä»¶æ¨¡æ¿â€‹ æœ¬ç« ä½ å°†å­¦åˆ°ï¼š TShockæ’ä»¶æ¨¡æ¿å„éƒ¨åˆ†çš„ä½œç”¨ TShockæ’ä»¶çš„åˆå§‹åŒ–é¡ºåº æ–‡ä»¶ç»“æ„ æ’ä»¶æ¨¡æ¿â€‹ ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„TShockæ’ä»¶æ¨¡æ¿ æ’ä»¶åŸºæœ¬ä¿¡æ¯â€‹ ä»¥ä¸‹ä»£ç å¯ä»¥è®¾ç½®æ’ä»¶çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œæ’ä»¶åå»ºè®®æŒ‰ç…§åŠŸèƒ½å‘½åï¼Œä¸è¦èµ·å¥‡æ€ªåå­—(ä¾‹å¦‚\\"ç‚¸è£‚\\"), Author(æ’ä»¶ä½œè€…)ã€Name(æ’ä»¶åå­—)ã€Versi...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Part 2.åˆæ­¥äº†è§£TShockæ’ä»¶æ¨¡æ¿â€‹\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-09-11T05:14:27.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"http://docs.terraria.ink/zh/plugin-dev/Part2.html"}],["meta",{"property":"og:site_name","content":"TShockä¸­æ–‡æ’ä»¶åº“"}],["meta",{"property":"og:title","content":"Part 2.åˆæ­¥äº†è§£TShockæ’ä»¶æ¨¡æ¿â€‹"}],["meta",{"property":"og:description","content":"Part 2.åˆæ­¥äº†è§£TShockæ’ä»¶æ¨¡æ¿â€‹ æœ¬ç« ä½ å°†å­¦åˆ°ï¼š TShockæ’ä»¶æ¨¡æ¿å„éƒ¨åˆ†çš„ä½œç”¨ TShockæ’ä»¶çš„åˆå§‹åŒ–é¡ºåº æ–‡ä»¶ç»“æ„ æ’ä»¶æ¨¡æ¿â€‹ ä»¥ä¸‹æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„TShockæ’ä»¶æ¨¡æ¿ æ’ä»¶åŸºæœ¬ä¿¡æ¯â€‹ ä»¥ä¸‹ä»£ç å¯ä»¥è®¾ç½®æ’ä»¶çš„ä¸€äº›åŸºæœ¬ä¿¡æ¯ï¼Œæ’ä»¶åå»ºè®®æŒ‰ç…§åŠŸèƒ½å‘½åï¼Œä¸è¦èµ·å¥‡æ€ªåå­—(ä¾‹å¦‚\\"ç‚¸è£‚\\"), Author(æ’ä»¶ä½œè€…)ã€Name(æ’ä»¶åå­—)ã€Versi..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-09-11T05:14:27.000Z"}],["meta",{"property":"article:modified_time","content":"2025-09-11T05:14:27.000Z"}]]},"git":{"updatedTime":1757567667000,"contributors":[{"name":"Cai","username":"Cai","email":"13110818005@qq.com","commits":1,"url":"https://github.com/Cai"}],"changelog":[{"hash":"a9215a4f18e1d7379ea613ba1560973941096ec8","time":1757567667000,"email":"13110818005@qq.com","author":"Cai","message":"chore: å°†æ’ä»¶æ•™ç¨‹ç§»åŠ¨åˆ°æ­¤ä»“åº“ï¼ŒåŸä»“åº“ä¸å†ç»´æŠ¤"}]},"autoDesc":true,"filePathRelative":"zh/plugin-dev/Part2.md"}');export{d as comp,r as data};
